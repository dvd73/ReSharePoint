tinymce.PluginManager.add("rawcode", function (e) { function o() { e.windowManager.open({ title: "Source code", body: { type: "textbox", name: "code", multiline: !0, minWidth: e.getParam("code_dialog_width", 600), minHeight: e.getParam("code_dialog_height", Math.min(tinymce.DOM.getViewPort().h - 200, 500)), value: e.getContent({ source_view: !0 }), spellcheck: !1, style: "direction: ltr; text-align: left" }, onSubmit: function (o) { e.focus(), e.undoManager.transact(function () { e.setContent(o.data.code, { format: 'raw' }) }), e.selection.setCursorLocation(), e.nodeChanged() } }) } e.addCommand("mceCodeEditor", o), e.addButton("rawcode", { icon: "code", tooltip: "Source code", onclick: o }), e.addMenuItem("rawcode", { icon: "code", text: "Source code", context: "tools", onclick: o }) });